<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Data Reservasi Ujian - Aesel</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="wrapper">
      <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
          <div>
            <h5 class="mb-0">Data Reservasi Ujian - Aesel Reservasi</h5>
          </div>

          <div class="d-flex align-items-center gap-2">
            <!-- Filter Layanan -->
            <select class="form-select form-select-sm" id="filter-layanan" style="width: auto">
              <option value="ALL">Semua Layanan</option>
              <option value="reservasi">Reservasi</option>
              <option value="reschedule">Reschedule</option>
            </select>

            <!-- Filter Status -->
            <select class="form-select form-select-sm" id="filter-status" style="width: auto">
              <option value="ALL">Semua Status</option>
              <option value="BELUM BAYAR">Belum Bayar</option>
              <option value="PENDING">Pending</option>
              <option value="SETTLEMENT">Settlement (Lunas)</option>
              <option value="CANCEL">Cancel / Gagal</option>
            </select>

            <button class="btn btn-sm btn-download-all" id="btn-download-all">Download Semua</button>
          </div>
        </div>

        <div class="card-body">
          <div id="status" class="mb-2 text-muted" style="font-size: 0.85rem">Memuat data dari Supabase...</div>

          <div class="table-responsive">
            <table class="table table-striped table-hover align-middle" id="data-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Nama Lengkap</th>
                  <th>Jenis Ujian</th>
                  <th>Lokasi</th>
                  <th>Tanggal Ujian</th>
                  <th>Jam</th>
                  <th>Status Bayar</th>
                  <th>Aksi</th>
                </tr>
              </thead>

              <tbody>
                <!-- Diisi via JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Edit -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <form id="edit-form">
            <div class="modal-header">
              <h5 class="modal-title">Edit Data Reservasi</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <input type="hidden" id="edit-id" />

              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Nama Lengkap</label>
                  <input type="text" class="form-control" id="edit-nama" required />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Nomor Telepon</label>
                  <input type="text" class="form-control" id="edit-telepon" required />
                </div>

                <div class="col-md-6">
                  <label class="form-label">Jenis Ujian</label>
                  <select class="form-select" id="edit-jenis-ujian" required>
                    <option value="">-- Pilih Jenis Ujian --</option>
                    <option value="JFT">JFT Basic A2</option>
                    <option value="PM">PM (Pengolahan Makanan)</option>
                    <option value="RESTO">RESTORAN</option>
                    <option value="KGINDO">Kaigo Indonesia</option>
                    <option value="KGJAPAN">Kaigo Jepang</option>
                    <option value="PERTANIAN">PERTANIAN</option>
                    <option value="PETERNAKAN">PETERNAKAN</option>
                    <!-- <option value="PERIKANAN">PERIKANAN</option>
                  <option value="AKUAKULTUR">AKUAKULTUR</option>
                  <option value="CIVIL">CIVIL</option>
                  <option value="BUILDING">BUILDING</option>
                  <option value="INFRASTRUCTURE">INFRASTRUCTURE</option>
                  <option value="ACCOMODATION">ACCOMODATION</option>
                  <option value="AUTOMOBILE">AUTOMOBILE</option>
                  <option value="MACHINING">MACHINING</option>
                  <option value="ELECTRONIC_ASSEMBLY">ELECTRONIC_ASSEMBLY</option>
                  <option value="SURFACE_TREATMENT">SURFACE_TREATMENT</option>
                  <option value="CARDBOARD">CARDBOARD</option>
                  <option value="PRECAST">PRECAST</option>
                  <option value="RDF_FUEL">RDF_FUEL</option>
                  <option value="POTTERY">POTTERY</option>
                  <option value="PRINTING">PRINTING</option>
                  <option value="TEXTILES">TEXTILES</option>
                  <option value="SEWING">SEWING</option> -->
                  </select>
                </div>

                <div class="col-md-6">
                  <label class="form-label">ID Prometrik</label>
                  <input type="text" class="form-control" id="edit-id-prometrik" required />
                </div>

                <div class="col-md-6">
                  <label class="form-label">Password</label>
                  <input type="text" class="form-control" id="edit-password" required />
                </div>

                <div class="col-md-6">
                  <label class="form-label">Tanggal Lahir</label>
                  <input type="date" class="form-control" id="edit-tgl-lahir" />
                </div>

                <div class="col-md-6">
                  <label class="form-label">Jenis Kelamin</label>
                  <select class="form-select" id="edit-jenis-kelamin">
                    <option value="">-- Pilih --</option>
                    <option value="Laki-laki">Laki-laki</option>
                    <option value="Perempuan">Perempuan</option>
                  </select>
                </div>

                <div class="col-md-6">
                  <label class="form-label">Lokasi Ujian</label>
                  <input type="text" class="form-control" id="edit-lokasi" />
                </div>

                <div class="col-md-6">
                  <label class="form-label">Tanggal Ujian</label>
                  <input type="date" class="form-control" id="edit-tanggal-ujian" required />
                </div>

                <div class="col-md-6">
                  <label class="form-label">Jam Ujian (format sesi)</label>
                  <input type="text" class="form-control" id="edit-jam-ujian" placeholder="09:15,10:00,10:45,11:30" required />
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <span class="text-muted me-auto" style="font-size: 0.8rem">Pastikan data sudah benar sebelum menyimpan.</span>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
              <button type="submit" class="btn btn-primary">Simpan Perubahan</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
